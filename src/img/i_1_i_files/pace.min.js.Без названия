(function(){var B,X,U,R,Q,F,K,N,q,a,M,L,D,J,I,k,H,d,s,t,A,l,n,P,y,z,f,Z,e,b,r,x,G,j,C,u,c,g,w,i,o,v,p,m,S,T,E,V,W,h=[].slice,Y={}.hasOwnProperty,O=function(a,b){for(var c in b)Y.call(b,c)&&(a[c]=b[c]);function d(){this.constructor=a}return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},_=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===b)return a;return-1};A={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:'body',elements:{checkInterval:100,selectors:['body']},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:['GET'],trackWebSockets:!0,ignoreURLs:[]}},e=function(){var a;return(a=typeof performance!="undefined"&&performance!==null?typeof performance.now=="function"?performance.now():void 0:void 0)!=null?a:+new Date},r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,r==null&&(r=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(c){var b,a;return b=e(),a=function(){var d;return d=e()-b,d>=33?(b=e(),c(d,function(){return r(a)})):setTimeout(a,33-d)},a()},x=function(){var c,b,a;return a=arguments[0],b=arguments[1],c=3<=arguments.length?h.call(arguments,2):[],typeof a[b]=='function'?a[b].apply(a,c):a[b]},l=function(){var a,b,c,f,d,e,g;b=arguments[0],f=2<=arguments.length?h.call(arguments,1):[];for(e=0,g=f.length;e<g;e++)if(c=f[e],c)for(a in c){if(!Y.call(c,a))continue;d=c[a],b[a]!=null&&typeof b[a]=='object'&&d!=null&&typeof d=='object'?l(b[a],d):b[a]=d}return b},H=function(d){var b,c,e,a,f;c=b=0;for(a=0,f=d.length;a<f;a++)e=d[a],c+=Math.abs(e),b++;return c/b},P=function(a,b){var c,e,d;if(a==null&&(a='options'),b==null&&(b=!0),d=document.querySelector("[data-pace-"+a+"]"),!d)return;if(c=d.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(a){return e=a,typeof console!="undefined"&&console!==null?console.error("Error parsing inline pace options",e):void 0}},K=function(){function a(){}return a.prototype.on=function(a,d,e,b){var c;return b==null&&(b=!1),this.bindings==null&&(this.bindings={}),(c=this.bindings)[a]==null&&(c[a]=[]),this.bindings[a].push({handler:d,ctx:e,once:b})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,d){var b,e,c;if(((e=this.bindings)!=null?e[a]:void 0)==null)return;if(d==null)return delete this.bindings[a];for(b=0,c=[];b<this.bindings[a].length;)this.bindings[a][b].handler===d?c.push(this.bindings[a].splice(b,1)):c.push(b++);return c},a.prototype.trigger=function(){var f,e,a,g,b,i,j,c,d;if(a=arguments[0],f=2<=arguments.length?h.call(arguments,1):[],(j=this.bindings)!=null?j[a]:void 0){for(b=0,d=[];b<this.bindings[a].length;)c=this.bindings[a][b],g=c.handler,e=c.ctx,i=c.once,g.apply(e!=null?e:this,f),i?d.push(this.bindings[a].splice(b,1)):d.push(b++);return d}},a}(),a=window.Pace||{},window.Pace=a,l(a,K.prototype),b=a.options=l({},A,window.paceOptions,P()),E=['ajax','document','eventLag','elements'];for(p=0,S=E.length;p<S;p++)c=E[p],b[c]===!0&&(b[c]=A[c]);q=function(b){O(a,b);function a(){return V=a.__super__.constructor.apply(this,arguments),V}return a}(Error),X=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(this.el==null){if(a=document.querySelector(b.target),!a)throw new q;this.el=document.createElement('div'),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,''),document.body.className+=' pace-running',this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',a.firstChild!=null?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace('pace-active',''),a.className+=' pace-inactive',document.body.className=document.body.className.replace('pace-running',''),document.body.className+=' pace-done'},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){q=a}return this.el=void 0},a.prototype.render=function(){var a,f,c,g,d,h,e,i;if(document.querySelector(b.target)==null)return!1;a=this.getElement(),g="translate3d("+this.progress+"%, 0, 0)",e=['webkitTransform','msTransform','transform'];for(d=0,h=e.length;d<h;d++)f=e[d],a.children[0].style[f]=g;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(document.documentElement.style.setProperty('--theme-loading-progress',""+(this.progress|0)+"%"),i=document.querySelector('.la-loader-ss'),i&&b.target=='body'&&i.setAttribute('data-progress-text',""+(this.progress|0)+"%"),a.children[0].setAttribute('data-progress-text',""+(this.progress|0)+"%"),this.progress>=100?c='99':(c=this.progress<10?"0":"",c+=this.progress|0),a.children[0].setAttribute('data-progress',""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),N=function(){function a(){this.bindings={}}return a.prototype.trigger=function(f,g){var d,a,e,c,b;if(this.bindings[f]!=null){c=this.bindings[f],b=[];for(a=0,e=c.length;a<e;a++)d=c[a],b.push(d.call(this,g));return b}},a.prototype.on=function(a,c){var b;return(b=this.bindings)[a]==null&&(b[a]=[]),this.bindings[a].push(c)},a}(),v=window.XMLHttpRequest,o=window.XDomainRequest,i=window.WebSocket,n=function(d,c){var e,a,b;b=[];for(a in c.prototype)try{d[a]==null&&typeof c[a]!='function'?typeof Object.defineProperty=='function'?b.push(Object.defineProperty(d,a,{get:function(){return c.prototype[a]},configurable:!0,enumerable:!0})):b.push(d[a]=c.prototype[a]):b.push(void 0)}catch(a){e=a}return b},f=[],a.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],f.unshift('ignore'),c=b.apply(null,a),f.shift(),c},a.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],f.unshift('track'),c=b.apply(null,a),f.shift(),c},u=function(a){var c;if(a==null&&(a='GET'),f[0]==='track')return'force';if(!f.length&&b.ajax){if(a==='socket'&&b.ajax.trackWebSockets)return!0;if(c=a.toUpperCase(),_.call(b.ajax.trackMethods,c)>=0)return!0}return!1},M=function(c){O(a,c);function a(){var c,d=this;a.__super__.constructor.apply(this,arguments),c=function(a){var b;return b=a.open,a.open=function(c,e,f){return u(c)&&d.trigger('request',{type:c,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var a;return a=new v(b),c(a),a};try{n(window.XMLHttpRequest,v)}catch(a){}if(o!=null){window.XDomainRequest=function(){var a;return a=new o,c(a),a};try{n(window.XDomainRequest,o)}catch(a){}}if(i!=null&&b.ajax.trackWebSockets){window.WebSocket=function(b,c){var a;return c!=null?a=new i(b,c):a=new i(b),u('socket')&&d.trigger('request',{type:'socket',url:b,protocols:c,request:a}),a};try{n(window.WebSocket,i)}catch(a){}}}return a}(N),m=null,y=function(){return m==null&&(m=new M),m},C=function(e){var a,c,f,d;d=b.ajax.ignoreURLs;for(c=0,f=d.length;c<f;c++)if(a=d[c],typeof a=='string'){if(e.indexOf(a)!==-1)return!0}else if(a.test(e))return!0;return!1},y().on('request',function(e){var d,h,f,g,i;if(g=e.type,f=e.request,i=e.url,C(i))return;if(!a.running&&(b.restartOnRequestAfter!==!1||u(g)==='force'))return h=arguments,d=b.restartOnRequestAfter||0,typeof d=='boolean'&&(d=0),setTimeout(function(){var d,b,j,k,e,i;if(g==='socket'?d=f.readyState<2:d=0<(k=f.readyState)&&k<4,d){a.restart(),e=a.sources,i=[];for(b=0,j=e.length;b<j;b++){if(c=e[b],c instanceof B){c.watch.apply(c,h);break}i.push(void 0)}return i}},d)}),B=function(){function a(){var a=this;this.elements=[],y().on('request',function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;if(d=a.type,b=a.request,e=a.url,C(e))return;return d==='socket'?c=new J(b):c=new I(b),this.elements.push(c)},a}(),I=function(){function a(b){var g,h,c,f,d,e,a=this;if(this.progress=0,window.ProgressEvent!=null){h=null,b.addEventListener('progress',function(b){return b.lengthComputable?a.progress=100*b.loaded/b.total:a.progress=a.progress+(100-a.progress)/2},!1),e=['load','abort','timeout','error'];for(c=0,f=e.length;c<f;c++)g=e[c],b.addEventListener(g,function(){return a.progress=100},!1)}else d=b.onreadystatechange,b.onreadystatechange=function(){var c;return(c=b.readyState)===0||c===4?a.progress=100:b.readyState===3&&(a.progress=50),typeof d=="function"?d.apply(null,arguments):void 0}}return a}(),J=function(){function a(e){var c,a,d,b,f=this;this.progress=0,b=['error','open'];for(a=0,d=b.length;a<d;a++)c=b[a],e.addEventListener(c,function(){return f.progress=100},!1)}return a}(),R=function(){function a(a){var d,b,e,c;a==null&&(a={}),this.elements=[],a.selectors==null&&(a.selectors=[]),c=a.selectors;for(b=0,e=c.length;b<e;b++)d=c[b],this.elements.push(new Q(d))}return a}(),Q=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},b.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),U=function(){a.prototype.states={loading:0,interactive:50,complete:100};function a(){var a,c,b=this;this.progress=(c=this.states[document.readyState])!=null?c:100,a=document.onreadystatechange,document.onreadystatechange=function(){return b.states[document.readyState]!=null&&(b.progress=b.states[document.readyState]),typeof a=="function"?a.apply(null,arguments):void 0}}return a}(),F=function(){function a(){var c,f,d,g,a,h=this;this.progress=0,c=0,a=[],g=0,d=e(),f=setInterval(function(){var i;return i=e()-d-50,d=e(),a.push(i),a.length>b.eventLag.sampleCount&&a.shift(),c=H(a),++g>=b.eventLag.minSamples&&c<b.eventLag.lagThreshold?(h.progress=100,clearInterval(f)):h.progress=100*(3/(c+3))},50)}return a}(),D=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=b.initialRate,this.catchup=0,this.progress=this.lastProgress=0,this.source!=null&&(this.progress=x(this.source,'progress'))}return a.prototype.tick=function(c,a){var d;return a==null&&(a=x(this.source,'progress')),a>=100&&(this.done=!0),a===this.last?this.sinceLastUpdate+=c:(this.sinceLastUpdate&&(this.rate=(a-this.last)/this.sinceLastUpdate),this.catchup=(a-this.progress)/b.catchupTime,this.sinceLastUpdate=0,this.last=a),a>this.progress&&(this.progress+=this.catchup*c),d=1-Math.pow(this.progress/100,b.easeFactor),this.progress+=d*this.rate*c,this.progress=Math.min(this.lastProgress+b.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),g=null,j=null,d=null,w=null,k=null,s=null,a.running=!1,z=function(){if(b.restartOnPushState)return a.restart()},window.history.pushState!=null&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),window.history.replaceState!=null&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),L={ajax:B,elements:R,document:U,eventLag:F},(Z=function(){var e,f,h,l,m,i,n,k;a.sources=g=[],i=['ajax','elements','document','eventLag'];for(f=0,l=i.length;f<l;f++)e=i[f],b[e]!==!1&&g.push(new L[e](b[e]));k=(n=b.extraSources)!=null?n:[];for(h=0,m=k.length;h<m;h++)c=k[h],g.push(new c(b));return a.bar=d=new X,j=[],w=new D})(),a.stop=function(){return a.trigger('stop'),a.running=!1,d.destroy(),s=!0,k!=null&&(typeof t=="function"&&t(k),k=null),Z()},a.restart=function(){return a.trigger('restart'),a.stop(),a.start()},a.go=function(){var f;return a.running=!0,d.render(),f=e(),s=!1,k=G(function(u,A){var x,r,m,v,o,h,i,B,k,l,n,q,p,z,y,t;B=100-d.progress,r=n=0,m=!0;for(h=q=0,z=g.length;q<z;h=++q){c=g[h],l=j[h]!=null?j[h]:j[h]=[],o=(t=c.elements)!=null?t:[c];for(i=p=0,y=o.length;p<y;i=++p){if(v=o[i],k=l[i]!=null?l[i]:l[i]=new D(v),m&=k.done,k.done)continue;r++,n+=k.tick(u)}}return x=n/r,d.update(w.tick(u,x)),d.done()||m||s?(d.update(100),a.trigger('done'),setTimeout(function(){return d.finish(),a.running=!1,a.trigger('hide')},Math.max(b.ghostTime,Math.max(b.minTime-(e()-f),0)))):A()})},a.start=function(c){l(b,c),a.running=!0;try{d.render()}catch(a){q=a}return document.querySelector('.pace')?(a.trigger('start'),a.go()):setTimeout(a.start,50)},typeof define=='function'&&define.amd?define(['pace'],function(){return a}):typeof exports=='object'?module.exports=a:b.startOnPageLoad&&a.start()}).call(this)