(function(a){"use strict";var b=function(F,E){var c,e=!1,h=!1,f=!1,d={},G=a('body').hasClass('rtl'),C={to:'top',offset:0,effectsOffset:0,parent:!1,classes:{sticky:'sticky',stickyActive:'sticky-active',stickyEffects:'sticky-effects',spacer:'sticky-spacer'}},B=function(){c=a(F).addClass(b.classes.sticky),d.$window=a(window),b.parent&&('parent'===b.parent?d.$parent=c.parent():c.closest(b.parent).length?d.$parent=c.closest(b.parent):d.$parent=a(b.parent))},z=function(){b=jQuery.extend(!0,C,E)},y=function(){d.$window.on({scroll:m,resize:r})},v=function(){d.$window.off('scroll',m).off('resize',r)},u=function(){z(),B(),y(),q()},j=function(b,d,e){var a={},c=b[0].style;e.forEach(function(b){b==='left'?a[b]='':a[b]=void 0!==c[b]?c[b]:''}),b.data('css-backup-'+d,a)},i=function(a,b){return a.data('css-backup-'+b)},s=function(){d.$spacer=c.clone().addClass(b.classes.spacer).css({visibility:'hidden',transition:'none',animation:'none'}),c.after(d.$spacer)},t=function(){d.$spacer.remove()},p=function(){var a,d;j(c,'unsticky',['position','width','margin-top','margin-bottom','top','bottom']),a={position:'fixed',width:n(c,'width'),marginTop:0,marginBottom:0},a[b.to]=b.offset,a['top'===b.to?'bottom':'top']='',d=c.offset().left,a.left=d,c.css(a).addClass(b.classes.stickyActive)},o=function(){c.css(i(c,'unsticky')).css('left','').removeClass(b.classes.stickyActive)},w=function(){j(d.$parent,'childNotFollowing',['position']),d.$parent.css('position','relative'),j(c,'notFollowing',['position','top','bottom']);var a={position:'absolute'};a[b.to]='',a['top'===b.to?'bottom':'top']=0,c.css(a).css('left',''),h=!0},x=function(){d.$parent.css(i(d.$parent,'childNotFollowing')),c.css(i(c,'notFollowing')).css('left',''),h=!1},n=function(g,c,e){var b=getComputedStyle(g[0]),d=parseFloat(b[c]),f='height'===c?['top','bottom']:['left','right'],a=[];return'border-box'!==b.boxSizing&&a.push('border','padding'),e&&a.push('margin'),a.forEach(function(a){f.forEach(function(c){d+=parseFloat(b[a+'-'+c])})}),d},g=function(b){var f=d.$window.scrollTop(),c=n(b,'height'),g=innerHeight,h=b.offset().top,a=h-f,e=a-g;return{top:{fromTop:a,fromBottom:e},bottom:{fromTop:a+c,fromBottom:e+c}}},A=function(){s(),p(),e=!0,c.trigger('sticky:stick')},l=function(){o(),t(),e=!1,c.trigger('sticky:unstick')},k=function(){var a=g(c),e='top'===b.to,k,f,l,i,j,m;h?(k=e?a.top.fromTop>b.offset:a.bottom.fromBottom<-b.offset,k&&x()):(f=g(d.$parent),l=getComputedStyle(d.$parent[0]),i=parseFloat(l[e?'borderBottomWidth':'borderTopWidth']),j=e?f.bottom.fromTop-i:f.top.fromBottom+i,m=e?j<=a.bottom.fromTop:j>=a.top.fromBottom,m&&w())},D=function(a){f&&-a<b.effectsOffset?(c.removeClass(b.classes.stickyEffects),f=!1):!f&&-a>=b.effectsOffset&&(c.addClass(b.classes.stickyEffects),f=!0)},q=function(){var f=b.offset,a,h,i;e?(h=g(d.$spacer),a='top'===b.to?h.top.fromTop-f:-h.bottom.fromBottom-f,b.parent&&k(),a>0&&l()):(i=g(c),a='top'===b.to?i.top.fromTop-f:-i.bottom.fromBottom-f,a<=0&&(A(),b.parent&&k())),D(a)},m=function(){q()},r=function(){if(!e)return;o(),p()},b;this.destroy=function(){e&&l(),v(),c.removeClass(b.classes.sticky)},u()};a.fn.lasfsticky=function(c){var d='string'==typeof c;return this.each(function(){var f=a(this),e;if(!d){f.data('sticky',new b(this,c));return}if(e=f.data('sticky'),!e)throw Error('Trying to perform the `'+c+'` method prior to initialization');if(!e[c])throw ReferenceError('Method `'+c+'` not found in sticky instance');e[c].apply(e,Array.prototype.slice.call(arguments,1)),'destroy'===c&&f.removeData('sticky')}),this},window.LASFSticky=b})(jQuery)